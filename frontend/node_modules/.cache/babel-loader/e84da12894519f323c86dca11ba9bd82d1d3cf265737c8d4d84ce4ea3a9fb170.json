{"ast":null,"code":"// src/components/RegisterPage.js\nimport React,{useState}from'react';import axios from'axios';import{useNavigate,Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterPage(_ref){let{onRegister}=_ref;const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[role,setRole]=useState('customer');const navigate=useNavigate();const API_BASE_URL=\"http://13.230.72.70/api/\";const handleSubmit=e=>{e.preventDefault();axios.post(`${API_BASE_URL}/register`,{username,password,role}).then(response=>{onRegister(response.data);navigate('/');}).catch(error=>{var _error$response,_error$response$data;alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Registration failed.');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8 bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:mx-auto sm:w-full sm:max-w-sm\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo.jpg\",alt:\"ECSite\",className:\"mx-auto h-24 w-auto\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-10 text-center text-2xl font-bold tracking-tight text-gray-900\",children:\"Create a new account\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-6\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"block text-sm font-medium text-gray-900\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",type:\"text\",value:username,onChange:e=>setUsername(e.target.value),required:true,className:\"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 outline-gray-300 placeholder:text-gray-400 focus:outline-indigo-600 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-900\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true,className:\"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 outline-gray-300 placeholder:text-gray-400 focus:outline-indigo-600 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"customer\",checked:role==='customer',onChange:e=>setRole(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{children:\"Customer\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"merchant\",checked:role==='merchant',onChange:e=>setRole(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{children:\"Merchant\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold text-white hover:bg-indigo-500\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-10 text-center text-sm text-gray-500\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"font-semibold text-indigo-600 hover:text-indigo-500\",children:\"Sign in\"})]})]})]});}export default RegisterPage;","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","RegisterPage","_ref","onRegister","username","setUsername","password","setPassword","role","setRole","navigate","API_BASE_URL","handleSubmit","e","preventDefault","post","then","response","data","catch","error","_error$response","_error$response$data","alert","detail","className","children","src","alt","onSubmit","htmlFor","id","type","value","onChange","target","required","checked","to"],"sources":["/data/ECSite-demo/frontend/src/components/RegisterPage.js"],"sourcesContent":["// src/components/RegisterPage.js\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, Link } from 'react-router-dom';\n\nfunction RegisterPage({ onRegister }) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState('customer');\n  const navigate = useNavigate();\n  const API_BASE_URL = \"http://13.230.72.70/api/\";\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    axios.post(`${API_BASE_URL}/register`, { username, password, role })\n      .then(response => {\n        onRegister(response.data);\n        navigate('/');\n      })\n      .catch(error => {\n        alert(error.response?.data?.detail || 'Registration failed.');\n      });\n  };\n\n  return (\n    <div className=\"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8 bg-white\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\n        <img\n          src=\"/logo.jpg\"\n          alt=\"ECSite\"\n          className=\"mx-auto h-24 w-auto\"\n          />\n        <h2 className=\"mt-10 text-center text-2xl font-bold tracking-tight text-gray-900\">\n          Create a new account\n        </h2>\n      </div>\n\n      <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\n        <form className=\"space-y-6\" onSubmit={handleSubmit}>\n          <div>\n            <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-900\">\n              Username\n            </label>\n            <input\n              id=\"username\"\n              type=\"text\"\n              value={username}\n              onChange={e => setUsername(e.target.value)}\n              required\n              className=\"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 outline-gray-300 placeholder:text-gray-400 focus:outline-indigo-600 sm:text-sm\"\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-900\">\n              Password\n            </label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={e => setPassword(e.target.value)}\n              required\n              className=\"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 outline-gray-300 placeholder:text-gray-400 focus:outline-indigo-600 sm:text-sm\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-900\">Role</label>\n            <div className=\"mt-2 flex space-x-4\">\n              <label className=\"flex items-center space-x-2\">\n                <input\n                  type=\"radio\"\n                  value=\"customer\"\n                  checked={role === 'customer'}\n                  onChange={e => setRole(e.target.value)}\n                />\n                <span>Customer</span>\n              </label>\n              <label className=\"flex items-center space-x-2\">\n                <input\n                  type=\"radio\"\n                  value=\"merchant\"\n                  checked={role === 'merchant'}\n                  onChange={e => setRole(e.target.value)}\n                />\n                <span>Merchant</span>\n              </label>\n            </div>\n          </div>\n\n          <button\n            type=\"submit\"\n            className=\"w-full rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold text-white hover:bg-indigo-500\"\n          >\n            Register\n          </button>\n        </form>\n\n        <p className=\"mt-10 text-center text-sm text-gray-500\">\n          Already have an account?{' '}\n          <Link to=\"/login\" className=\"font-semibold text-indigo-600 hover:text-indigo-500\">\n            Sign in\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default RegisterPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}